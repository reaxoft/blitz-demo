##########################################################################################
# version: 37
# modified: 2025-07-14 09:33:26 MSK
# author: admin
# ip: 192.168.117.1
# user agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36
##########################################################################################
{
    "blitz" : {
        "prod" : {
            "local" : {
                "idp" : {
                    "_groups" : {
                        "profiles" : [
                            {
                                "type" : "mirror",
                                "id" : "orgs_ldap",
                                "groupStore" : "ad_ldap",
                                "attrsMap" : {
                                   "description" : "Description",
                                   "name" : "Name"
                                },
                                "filter" : "objectClass=group",
                                "memberOfWithNested" : true,
                                "sizeLimit" : 300
                            }
                        ],
                        "stores" : {
                            "list" : [
                                {
                                    "type" : "ldap_based",
                                    "id" : "ad_ldap",
                                    "desc" : "AD Groups",
                                    "ldapStore" : "ad_ldap",
                                    "baseDN" : "dc=test,dc=local",
                                    "searchScope" : "SUB",
                                    "idAttrName" : "cn",
                                    "enabled" : true,
                                    "membersAttrName" : "member",
                                    "memberOfAttrName" : "memberOf",
                                    "newGroupAttrs" : [
                                        {
                                            "attr" : "objectclass",
                                            "format" : "strings",
                                            "value" : "top,group"
                                        },
                                        {
                                            "attr" : "dn",
                                            "format" : "string",
                                            "value" : "cn=${id},dc=test,dc=local"
                                        }
                                    ]
                                }
                            ]
                        }
                    },
                    "__groups": {
                        "profiles": [
                            {
                                "type": "mirror",
                                "id": "orgs",
                                "groupStore": "389-ds",
                                "attrsMap": {
                                    "INN": "inn",
                                    "OGRN": "ogrn",
                                    "name": "displayname",
                                },
                                "filter": "objectClass=organizationgroup"
                            }
                        ],
                        "stores": {
                            "list": [
                                {
                                    "type": "ldap_based",
                                    "id": "389-ds",
                                    "desc": "Organizations",
                                    "ldapStore": "389-ds",
                                    "baseDN": "ou=orgs,ou=groups,ou=sub,dc=test,dc=loc",
                                    "searchScope": "SUB",
                                    "idAttrName": "cn",
                                    "enabled" : true,
                                    "membersAttrName": "uniqueMember",
                                    "memberOfAttrName": "memberOf",
                                    "newGroupAttrs": [
                                        {
                                            "attr": "objectclass",
                                            "format": "strings",
                                            "value": "top,groupOfUniqueNames,organizationgroup"
                                        },
                                        {
                                            "attr": "dn",
                                            "format": "string",
                                            "value": "cn=${id},ou=orgs,ou=groups,ou=sub,dc=test,dc=loc"
                                        }
                                    ]
                                }
                            ]
                        }
                    },
                    "apps" : {
                        "_blitz_console" : {
                            "domain" : "https://blitz-demo.loc/blitz/console",
                            "name" : "custom.app.name._blitz_console"
                        },
                        "_blitz_idp" : {
                            "domain" : "https://blitz-demo.loc/blitz/idp",
                            "name" : "custom.app.name._blitz_idp"
                        },
                        "_blitz_profile" : {
                            "domain" : "https://blitz-demo.loc/blitz/profile",
                            "name" : "custom.app.name._blitz_profile"
                        },
                        "_blitz_recovery" : {
                            "domain" : "https://blitz-demo.loc/blitz/recovery",
                            "name" : "custom.app.name._blitz_recovery"
                        },
                        "_blitz_reg" : {
                            "domain" : "https://blitz-demo.loc/blitz/reg",
                            "name" : "custom.app.name._blitz_reg"
                        },
                        "test-app1" : {
                            "domain" : "https://localhost",
                            "name" : "Тестовое приложение 1",
                            "oauth" : {
                                "autoConsent" : true,
                                "availableScopes" : [
                                    "openid",
                                    "testsys1",
                                    "blitz_api_sys_users_reg"
                                ],
                                "clientSecret" : "{$}RWOnOSBuYt4i6r1o067/dJzUwJuOdgHtOHUhV26oWopPxELQ5SmgzQ==",
                                "default-access-type" : "online",
                                "defaultScopes" : [],
                                "device-grant" : {
                                    "user-code-format" : "[0-9]{3,3}-[0-9]{3,3}-[0-9]{3,3}"
                                },
                                "enabled" : true,
                                "grant_types" : [
                                    "authorization_code",
                                    "password",
                                    "urn:ietf:params:oauth:grant-type:token-exchange",
                                    "client_credentials"
                                ],
                                "logout" : {
                                    "logoutAutoConsent" : false,
                                    "logoutUriPrefixes" : [
                                        "https://localhost"
                                    ]
                                },
                                "pixy-mandatory" : false,
                                "redirectUriPrefixes" : [
                                    "https://localhost"
                                ],
                                "response_types" : [
                                    "code"
                                ]
                            }
                        },
                        "test-app2" : {
                            "domain" : "https://localhost",
                            "name" : "Тестовое приложение 2",
                            "oauth" : {
                                "autoConsent" : true,
                                "availableScopes" : [
                                    "openid",
                                    "testsys2"
                                ],
                                "clientSecret" : "{$}CCqcrjYIaYFYiAoXgdCty3A41ksfhBZhRJ2w+mqBiqBQxFLKZK6I1A==",
                                "default-access-type" : "online",
                                "defaultScopes" : [],
                                "device-grant" : {
                                    "user-code-format" : "[0-9]{3,3}-[0-9]{3,3}-[0-9]{3,3}"
                                },
                                "enabled" : true,
                                "grant_types" : [
                                    "authorization_code",
                                    "password",
                                    "urn:ietf:params:oauth:grant-type:token-exchange"
                                ],
                                "logout" : {
                                    "logoutAutoConsent" : false,
                                    "logoutUriPrefixes" : [
                                        "https://localhost"
                                    ]
                                },
                                "pixy-mandatory" : false,
                                "redirectUriPrefixes" : [
                                    "https://localhost"
                                ],
                                "response_types" : [
                                    "code"
                                ],
                                "te_auth_method" : "client_secret_basic"
                            }
                        }
                    },
                    "audit" : {
                        "emitters" : [
                            "audit-store"
                        ]
                    },
                    "captchas-source": {
                        "dir": "captchas"
                    },
                    "flexible-flows" : {
                        "login" : [
                            {
                                "appIds" : [],
                                "desc" : "Limited list of first factor methods for application",
                                "enabled" : false,
                                "source" : "flows/login/FFmethodsv1.java",
                                "sysname" : "FFmethods",
                                "version" : 1
                            },
                            {
                                "appIds" : [],
                                "desc" : "This procedures enables 2nd factor for the application",
                                "enabled" : false,
                                "source" : "flows/login/Require2ndFactorv1.java",
                                "sysname" : "Require2ndFactor",
                                "version" : 1
                            },
                            {
                                "appIds" : [],
                                "desc" : "If the user attribute \"appList\" (as an array) contains entityID (or client_id) of the application, access will be granted",
                                "enabled" : false,
                                "source" : "flows/login/AccessByAttributev1.java",
                                "sysname" : "AccessByAttribute",
                                "version" : 1
                            },
                            {
                                "appIds" : [],
                                "desc" : "If the user attribute \"accountExpires\" contains date and time that has come, access will be blocked",
                                "enabled" : false,
                                "source" : "flows/login/AccountExpiresCheckv1.java",
                                "sysname" : "AccountExpiresCheck",
                                "version" : 1
                            },
                            {
                                "appIds" : [],
                                "desc" : "Groups from the attribute \"memberOf\" are added to the \"grps\" session claim",
                                "enabled" : false,
                                "source" : "flows/login/AddGroupsToTokenv1.java",
                                "sysname" : "AddGroupsToToken",
                                "version" : 1
                            },
                            {
                                "appIds" : [],
                                "desc" : "If user IP corresponds to any of masks defined in the ALLOW_IP constant, access will be granted",
                                "enabled" : false,
                                "source" : "flows/login/AllowedIPsv1.java",
                                "sysname" : "AllowedIPs",
                                "version" : 1
                            },
                            {
                                "appIds" : [],
                                "desc" : "Enables pipe for missing attributes and for actualization of contacts (mobile, email)",
                                "enabled" : false,
                                "source" : "flows/login/PipeAttrActAddv1.java",
                                "sysname" : "PipeAttrActAdd",
                                "version" : 1
                            },
                            {
                                "appIds" : [],
                                "desc" : "Enables pipe for showing the passkey/webAuthn configuration interface during the login process",
                                "enabled" : false,
                                "source" : "flows/login/PipeWebAuthnv1.java",
                                "sysname" : "PipeWebAuthn",
                                "version" : 1
                            },
                            {
                                "appIds" : [],
                                "desc" : "Enables the one-session login feature, i.e. user may have only one valid session at the same moment",
                                "enabled" : false,
                                "source" : "flows/login/RestrictSessionsv1.java",
                                "sysname" : "RestrictSessions",
                                "version" : 1
                            },
                            {
                                "appIds" : [],
                                "desc" : "Prompting users to define a security question and an answer while logging into the application",
                                "enabled" : false,
                                "source" : "flows/login/PipeSecQuestionv1.java",
                                "sysname" : "PipeSecQuestion",
                                "version" : 1
                            },
                            {
                                "appIds" : [],
                                "desc" : "Displaying announcements upon logging into the application",
                                "enabled" : false,
                                "source" : "flows/login/InfoPipev1.java",
                                "sysname" : "InfoPipe",
                                "version" : 1
                            }
                        ]
                    },
                    "id-attrs" : {
                        "attrsMeta" : [
                            {
                                "format" : "string",
                                "name" : "sub",
                                "realmed" : false,
                                "required" : true,
                                "searchable" : true,
                                "source" : {
                                    "type" : "idStore"
                                },
                                "unique" : true
                            },
                            {
                                "format" : "string",
                                "name" : "family_name",
                                "realmed" : false,
                                "required" : false,
                                "searchable" : true,
                                "source" : {
                                    "type" : "idStore"
                                },
                                "unique" : false
                            },
                            {
                                "format" : "string",
                                "name" : "given_name",
                                "realmed" : false,
                                "required" : false,
                                "searchable" : true,
                                "source" : {
                                    "type" : "idStore"
                                },
                                "unique" : false
                            },
                            {
                                "format" : "string",
                                "name" : "middle_name",
                                "realmed" : false,
                                "required" : false,
                                "searchable" : true,
                                "source" : {
                                    "type" : "idStore"
                                },
                                "unique" : false
                            },
                            {
                                "format" : "string",
                                "name" : "email",
                                "realmed" : false,
                                "required" : false,
                                "searchable" : true,
                                "source" : {
                                    "transformer" : {
                                        "regexp" : "^(.+)@(.+).(.+)$",
                                        "subs" : "${0}"
                                    },
                                    "type" : "idStore"
                                },
                                "unique" : true
                            },
                            {
                                "format" : "string",
                                "name" : "phone_number",
                                "realmed" : false,
                                "required" : false,
                                "searchable" : true,
                                "source" : {
                                    "transformer" : {
                                        "regexp" : "^(\\+?)([78]?) ?\\(?([0-9]{3})\\)? ?([0-9]{3})[- ]?([0-9]{2})[- ]?([0-9]{2})$",
                                        "subs" : "7${3-}${4-}${5-}${6-}"
                                    },
                                    "type" : "idStore"
                                },
                                "unique" : true
                            },
                            {
                                "format" : "date",
                                "name" : "expires_at",
                                "required" : false,
                                "searchable" : false,
                                "source" : {
                                    "type" : "idStore"
                                },
                                "unique" : false
                            }
                        ],
                        "displayName" : "${family_name} ${given_name-} ${middle_name-}, ${email-}",
                        "subjectIdAttr" : "sub"
                    },
                    "id-stores" : {
                        "list" : [
                            {
                                "desc" : "Built-in store",
                                "enabled" : true,
                                "id" : "built-in",
                                "readOnly" : false,
                                "sizeLimit" : 100,
                                "type" : "BUILT-IN"
                            }
                        ]
                    },
                    "internal-store-cb" : {
                        "nodes" : [
                            "CB_NODES"
                        ],
                        "password" : "CB_PASSWORD",
                        "user" : "CB_USERNAME"
                    },
                    "internal-store-jdbc" : {
                        "conn_url" : "jdbc:postgresql://postgres:5432/blitzdb?user=blitz&password=${pswd}&loggerLevel=DEBUG",
                        "db_name" : "blitzdb",
                        "enc_params" : {
                            "pswd" : "{$}lHcl7GkVMfS5PxqO1BIMf2GywLsPtoVi037RX2v+BgJClxeLrsWmbg=="
                        },
                        "keyAlias" : "jdbc",
                        "pool" : {
                            "maxTotalConn" : 20,
                            "maxIdleConn" : 5,
                            "minIdleConn" : 1,
                            "maxWaitConnMs" : 30000,
                            "testOnBorrow" : true,
                            "testOnCreate" : false,
                            "testOnReturn" : false,
                            "testWhileIdle" : true,
                            "timeBetweenEvictionRunsMillis" : 30000,
                            "validationQuery" : ""
                        }
                    },
                    "keystore" : {
                        "password" : "{$}pRlN964n0cblWFBKJ7FjU6y3tOPPDEBij6i1wRopiVmCOfCZ4xKTyg==",
                        "path" : "blitz-keystore.bks",
                        "type" : "bks"
                    },
                    "lang" : {
                        "ignore-browser" : true,
                        "languages" : [
                            "ru",
                            "en"
                        ],
                        "portal-lang-cookie" : {
                            "domain" : "blitz-demo.loc",
                            "name" : "blitzlng"
                        }
                    },
                    "license" : {
                        "key" : "MEQCIDI7sPxFVrmVPh9BUXYp4XCnK8x/GC1G8ekb0BNF9qSoAiBL49zEFlH+3Ia2rPupo9w/lMEel9rrTo5AcchU+WlmcEUKRW50ZXJwcmlzZWUAWAoxNzc0OTkwNzk5cwA0AEECMTUxAGIAMgBjAHIAUgAzAFMBMQ"
                    },
                    "logger" : {
                        "config-url" : "file:"${home}"/logback.xml",
                        "dir" : ${home}"/../logs",
                        "levels" : {
                            "ROOT" : "TRACE",
                            "application" : "TRACE",
                            "com.couchbase.client" : "INFO",
                            "com.identityblitz" : "TRACE",
                            "com.identityblitz.idp" : "TRACE",
                            "com.identityblitz.idp.events" : "INFO",
                            "com.identityblitz.idp.flow.dynamic" : "INFO",
                            "com.identityblitz.idp.flow.dynamic.extend" : "INFO",
                            "com.identityblitz.idp.rabbitmq" : "TRACE",
                            "com.identityblitz.idp.task.processing" : "INFO",
                            "com.identityblitz.login-framework" : "INFO",
                            "com.identityblitz.login-framework.ldap-timings" : "INFO",
                            "com.identityblitz.login.store" : "TRACE",
                            "com.identityblitz.play.memcached" : "INFO",
                            "com.identityblitz.play.memcached.RefreshableMemcachedConnection" : "INFO",
                            "com.unboundid.ldap.sdk" : "INFO",
                            "org.asynchttpclient.netty" : "TRACE",
                            "org.opensaml" : "INFO",
                            "org.opensaml.util.resource" : "INFO",
                            "play" : "TRACE",
                            "plugin.memcached" : "INFO"
                        }
                    },
                    "login" : {
                        "authStrategy" : {
                            "mode" : "firstSucceeded"
                        },
                        "displayNameAttr" : "${email- }",
                        "factors" : [
                            [
                                {
                                    "enabled" : false,
                                    "method" : "spnego"
                                },
                                {
                                    "enabled" : true,
                                    "method" : "password"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "x509"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "tls"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "externalIdps"
                                },
                                {
                                    "enabled" : true,
                                    "method" : "css"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "cls"
                                },
                                {
                                    "enabled" : true,
                                    "method" : "sms"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "flashCall"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "email"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "totp"
                                },
                                {
                                    "enabled": false,
                                    "method": "webAuthn"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "qrCode"
                                }
                            ],
                            [
                                {
                                    "enabled": false,
                                    "method": "webAuthn"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "trustKey"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "hotp"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "totp"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "knownDevice"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "sms"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "flashCall"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "email"
                                },
                                {
                                    "enabled" : false,
                                    "method" : "password"
                                },
                                {
                                    "enabled": false,
                                    "method": "secQsn"
                                },
                                {
                                    "enabled": false,
                                    "method": "attrMatch"
                                }
                            ]
                        ],
                        "methods" : {
                            "css" : {
                                "cssScsInSec" : 300
                            },
                            "externalIdps" : {
                                "captcha" : {
                                    "_mode" : {
                                        "name" : "X-Captcha-Check",
                                        "type" : "on_header",
                                        "value" : "true"
                                    },
                                    "enabled" : false,
                                    "mode" : {
                                        "type" : "always_on"
                                    },
                                    "sysname" : "yandexSmartCaptcha"
                                }
                            },
                            "hotp" : {
                                "look-ahead-depth" : 10
                            },
                            "knownDevice" : {},
                            "password" : {
                                "profiles" : {
                                    "1" : {
                                        "bind" : [
                                            [
                                                {
                                                    "attr" : "sub",
                                                    "value" : "${login}"
                                                }
                                            ],
                                            [
                                                {
                                                    "attr" : "email",
                                                    "value" : "${login}"
                                                }
                                            ],
                                            [
                                                {
                                                    "attr" : "phone_number",
                                                    "value" : "${login}"
                                                }
                                            ]
                                        ],
                                        "captcha" : {
                                            "_mode" : {
                                                "name" : "X-Captcha-Check",
                                                "type" : "on_header",
                                                "value" : "true"
                                            },
                                            "enabled" : false,
                                            "mode" : {
                                                "type" : "always_on"
                                            },
                                            "sysname" : "yandexSmartCaptcha"
                                        }
                                    }
                                }
                            },
                            "sms" : {
                                "profiles" : {
                                    "1" : {
                                        "bind" : [
                                            [
                                                {
                                                    "attr" : "phone_number",
                                                    "value" : "${login}"
                                                }
                                            ]
                                        ],
                                        "channels" : [
                                            {
                                                "attr" : "${phone_number-}",
                                                "type" : "sms"
                                            }
                                        ],
                                        "psw-expire-time-sec" : 300,
                                        "psw-length" : 6,
                                        "psw-max-attempts" : 3,
                                        "tempLockAfter" : 5,
                                        "tempLockForMin" : 3
                                    },
                                    "2" : {
                                        "channels" : [
                                            {
                                                "attr" : "${phone_number-}",
                                                "type" : "sms"
                                            }
                                        ],
                                        "psw-expire-time-sec" : 60,
                                        "psw-length" : 6,
                                        "psw-max-attempts" : 3,
                                        "tempLockAfter" : 5,
                                        "tempLockForMin" : 3
                                    }
                                }
                            },
                            "x509" : {
                                "bind" : [
                                    [
                                        {
                                            "attr" : "email",
                                            "value" : "${SUBJECT.E}"
                                        }
                                    ]
                                ],
                                "claims" : [],
                                "factor-coverage" : 2,
                                "mapping" : [],
                                "plugin" : {
                                    "allModulesEnabled" : false,
                                    "capi" : {
                                        "providers" : [
                                            {
                                                "name" : "Crypto-Pro GOST R 34.10-2001 Cryptographic Service Provider",
                                                "pinMode" : 1
                                            },
                                            {
                                                "name" : "Crypto-Pro GOST R 34.10-2012 Strong Cryptographic Service Provider",
                                                "pinMode" : 1
                                            },
                                            {
                                                "name" : "Infotecs Cryptographic Service Provider",
                                                "pinMode" : 1
                                            },
                                            {
                                                "name" : "Signal-COM GOST R 34.10-2012 (512) Cryptographic Provider",
                                                "pinMode" : 1
                                            },
                                            {
                                                "name" : "Signal-COM CPGOST Cryptographic Provider",
                                                "pinMode" : 1
                                            },
                                            {
                                                "name" : "Signal-COM GOST R 34.10-2012 (256) Cryptographic Provider",
                                                "pinMode" : 1
                                            }
                                        ],
                                        "stores" : []
                                    },
                                    "modules" : [
                                        "capi",
                                        "Aladdin R.D. Unified JaCarta",
                                        "ISBC ESMART",
                                        "SafeNet"
                                    ]
                                },
                                "regUserIfNotFound" : false,
                                "trusted-store" : {
                                    "password" : "{$}TXX37b/OYdfDpn6EhQWfY5p67O9BCIqPqZXabH7og2B/Szoe9G/4GA==",
                                    "path" : "ca-store.pkcs12",
                                    "type" : "pkcs12"
                                },
                                "x509-verifier" : {
                                    "check-revocation" : false,
                                    "type" : "trust-only-to"
                                }
                            }
                        },
                        "mus" : {
                            "plural" : false,
                            "widget" : {
                                "displayId" : "${email-$sub}",
                                "displayName" : "Здравствуйте, ${given_name}!",
                                "showIcon" : false
                            }
                        },
                        "required-factor" : 1,
                        "sessionInactivityPeriodInSec" : 3600,
                        "sessionTtlInSec" : 10800,
                        "utilScs" : {
                            "encodingKey" : "fba725a78bf2135c2BCffcFB86DB2c7E",
                            "hmacKey" : "A1D4Ac7F90DFAbE18BB328b5b98DE984A54CEbFA",
                            "useCompression" : true
                        }
                    },
                    "logout" : {
                        "timeout-sec" : 2
                    },
                    "messages" : {
                        "dir" : "custom_messages",
                        "files" : [
                            "messages","attributes","pipes","mails"
                        ]
                    },
                    "messaging" : {
                        "sms" : {
                            "body" : "{\"from\":\"Blitz\",\"to\":${mobile},\"message\":${message}}\r\n",
                            "errRegExp" : "^.*\"code\":([^0]).*$",
                            "headers" : [
                                "Content-Type:application/json"
                            ],
                            "login" : "test",
                            "okRegExp" : "^.*\"code\":(0).*$",
                            "password" : "{$}gYWGkCC6tFHPst0zZ2xNq4f3HD5o6BD3H0PZqK4OKsq/DiNBRJUapg==",
                            "type" : "http-post",
                            "url" : "https://nginx/sms/v1/sms",
                            "useBasicAuth" : true
                        }
                    },
                    "net" : {
                        "domain" : "blitz-demo.loc",
                        "trustedServers" : [
                            "0.0.0.0/0"
                        ]
                    },
                    "oauth" : {
                        "access-token-format" : "jwt",
                        "access-token-ttl" : 3600,
                        "device-code-poll-interval" : 5,
                        "proxy-tls-auth-enabled" : false,
                        "refresh-token-ttl" : 31536000,
                        "serviceDocumentationUrl": "https://docs.identityblitz.ru/latest/integration-guide/index.html",
                        "scopes" : [
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "description" : "Идентификатор",
                                "name" : "openid"
                            },
                            {
                                "attrs" : [
                                    "family_name",
                                    "email",
                                    "phone_number",
                                    "sub",
                                    "middle_name",
                                    "given_name"
                                ],
                                "client-level" : false,
                                "description" : "Основные данные профиля",
                                "name" : "profile"
                            },
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "deprecated" : false,
                                "descriptions" : {
                                    "default" : "Сохранение доступа после завершения сессии"
                                },
                                "enabled" : true,
                                "names" : {
                                    "default" : "offline_access"
                                },
                                "sysname" : "offline_access"
                            },                            
                            {
                                "attrs" : [
                                    "name"
                                ],
                                "client-level" : false,
                                "description" : "Получение списка групп",
                                "name" : "usr_grps"
                            },
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "description" : "Автоматический вход в веб-приложения",
                                "name" : "native"
                            },
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "description" : "Изменение пароля",
                                "name" : "blitz_change_password"
                            },
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "description" : "Управление правами",
                                "name" : "blitz_user_rights"
                            },
                            {
                                "attrs" : [
                                    "sub",
                                    "family_name",
                                    "given_name",
                                    "middle_name",
                                    "email",
                                    "phone_number"
                                ],
                                "client-level" : false,
                                "description" : "Получение атрибутов",
                                "name" : "blitz_api_user"
                            },
                            {
                                "attrs" : [
                                    "sub",
                                    "family_name",
                                    "given_name",
                                    "middle_name",
                                    "email",
                                    "phone_number"
                                ],
                                "client-level" : false,
                                "description" : "Изменение атрибутов",
                                "name" : "blitz_api_user_chg"
                            },
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "description" : "Получение настроек безопасности",
                                "name" : "blitz_api_usec"
                            },
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "description" : "Изменение настроек безопасности",
                                "name" : "blitz_api_usec_chg"
                            },
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "description" : "Получение устройств",
                                "name" : "blitz_api_uapps"
                            },
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "description" : "Удаление устройств",
                                "name" : "blitz_api_uapps_chg"
                            },
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "description" : "Получение событий безопасности",
                                "name" : "blitz_api_uaud"
                            },
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "description" : "Получение привязок",
                                "name" : "blitz_api_ufa"
                            },
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "description" : "Создание привязки",
                                "name" : "blitz_api_ufa_link"
                            },  
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "description" : "Удаление привязок",
                                "name" : "blitz_api_ufa_chg"
                            },                             
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "description" : "Вход по QR-коду",
                                "name" : "blitz_qr_auth"
                            },
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "deprecated" : false,
                                "descriptions" : {
                                    "default" : "Отправка push-уведомлений"
                                },
                                "enabled" : true,
                                "names" : {
                                    "default" : "blitz_api_push"
                                },
                                "sysname" : "blitz_api_push"
                            },
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "deprecated" : false,
                                "descriptions" : {
                                    "default" : "Подтверждение входа в Blitz Key"
                                },
                                "enabled" : true,
                                "names" : {
                                    "default" : "blitz_trust_key"
                                },
                                "sysname" : "blitz_trust_key"
                            },
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Изменение групп",
                                "name" : "blitz_groups"
                            },
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Проверка маркеров безопасности",
                                "name" : "blitz_token_introspect"
                            },
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Изменение прав доступа",
                                "name" : "blitz_rights_full_access"
                            },
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Отзыв прав доступа ведомых учетных записей",
                                "name" : "blitz_rm_rights"
                            },
                            {
                                "attrs" : [
                                    "sub",
                                    "family_name",
                                    "given_name",
                                    "middle_name",
                                    "email",
                                    "phone_number"
                                ],
                                "client-level" : true,
                                "description" : "Получение атрибутов любого пользователя",
                                "name" : "blitz_api_sys_users"
                            },
                            {
                                "attrs" : [
                                    "sub",
                                    "family_name",
                                    "given_name",
                                    "middle_name",
                                    "email",
                                    "phone_number"
                                ],
                                "client-level" : true,
                                "description" : "Изменение атрибутов любого пользователя",
                                "name" : "blitz_api_sys_users_chg"
                            },
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Получение настроек безопасности любого пользователя",
                                "name" : "blitz_api_sys_usec"
                            },
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Изменение настроек безопасности любого пользователя",
                                "name" : "blitz_api_sys_usec_chg"
                            },
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Получение устройств любого пользователя",
                                "name" : "blitz_api_sys_uapps"
                            },
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Удаление устройств любого пользователя",
                                "name" : "blitz_api_sys_uapps_chg"
                            },
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Получение событий безопасности любого пользователя",
                                "name" : "blitz_api_sys_uaud"
                            },
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Получение привязок любого пользователя",
                                "name" : "blitz_api_sys_ufa"
                            },
                            {
                                "attrs" : [],
                                "client-level" : false,
                                "description" : "Удаление привязок любого пользователя",
                                "name" : "blitz_api_sys_ufa_chg"
                            }, 
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Получение маркеров безопасности внешнего поставщика идентификации",
                                "name" : "fed_tkn_any"
                            },                            
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Чтение настроек приложений",
                                "name" : "blitz_api_sys_app"
                            },
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Изменение настроек приложений",
                                "name" : "blitz_api_sys_app_chg"
                            },
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Чтение настроек прав доступа",
                                "name" : "blitz_api_sys_app"
                            },
                            {
                                "attrs" : [],
                                "client-level" : true,
                                "description" : "Изменение настроек прав доступа",
                                "name" : "blitz_api_sys_app_chg"
                            }
                        ],
                        "user-code-ttl" : 300
                    },
                    "password-policy" : {
                        "_dicPath" : "/usr/share/identityblitz/blitz-config/password_dic.txt",
                        "groups" : [
                            {
                                "desc" : "password.policy.desc.digits",
                                "group" : "[0-9]",
                                "minCount" : 1
                            },
                            {
                                "desc" : "password.policy.desc.lowercase",
                                "group" : "[a-z]",
                                "minCount" : 1
                            },
                            {
                                "desc" : "password.policy.desc.capital",
                                "group" : "[A-Z]",
                                "minCount" : 1
                            },
                            {
                                "desc" : "password.policy.desc.special",
                                "group" : "[!@#$%^&*()+\\-?.,;:'`\"{}\\[\\]><=~/\\\\_]",
                                "minCount" : 1
                            }
                        ],
                        "maxPasswordAgeSec" : 2592000,
                        "minGroups" : 3,
                        "minLength" : 8,
                        "minPasswordAgeSec" : 86400,
                        "passwordHistoryLen" : 5
                    },
                    "provisioning" : {
                        "_remove" : {
                            "days" : 365,
                            "mode" : "keepRemovedId"
                        },
                        "recovery" : {
                            "recovery-contacts" : [
                                "phone_number",
                                "email"
                            ]
                        },
                        "registration" : {
                            "idStore" : "built-in",
                            "success-only-if" : []
                        }
                    },
                    "realms" : {
                        "list" : [
                            {
                                "name" : "social"
                            }
                        ]
                    },
                    "saml" : {
                        "idp-home" : "saml"
                    },
                    "simple" : {
                        "client-tag-cookie-name" : "domain2auth"
                    },
                    "stores" : {
                        "default-type" : "jdbc"
                    },
                    "tasks" : {
                        "_broker-rmq" : {
                            "consumer" : {
                                "poolSize" : 2
                            },
                            "exchange" : "blitz.tasks",
                            "publisher" : {
                                "ackTimeout" : 15,
                                "channelsSize" : 8,
                                "poolSize" : 2
                            },
                            "server" : {
                                "host" : "rabbitmq",
                                "port" : 5672
                            },
                            "user" : {
                                "password" : "{$}3cZnjqueocBzEmlPOeHVeNEd9I0hpT1GScB9irncrt+BALFMX9IMyA==",
                                "username" : "blitz"
                            }
                        },
                        "broker-type" : "task-store",
                        "executionRules" : [
                            {
                                "maxAttempts" : 2,
                                "queue" : "blitz-tasks",
                                "redeliveryDelayInSec" : 60
                            }
                        ],
                        "queues" : [
                            {
                                "dequeueBatchSize" : 10,
                                "dequeuePeriodInSec" : 30,
                                "executorPoolSize" : 5,
                                "name" : "blitz-tasks"
                            }
                        ]
                    },
                    "radius" : {
                        "address" : "0.0.0.0",
                        "enabled" : false,
                        "flows" : [
                            {
                                "enabled" : false,
                                "path" : "Default2FA",
                                "sysname" : "Default2FA"
                            },
                            {
                                "desc" : "Процедура для Winlogon",
                                "enabled" : false,
                                "path" : "Winlogon2FA",
                                "sysname" : "Winlogon2FA"
                            }
                        ],
                        "port" : 1812,
                        "ranges" : [
                        ]
                    },
                    "rights" : {
                        "meta" : [
                            {
                                "descriptions" : {
                                    "en" : "administrator",
                                    "ru" : "администратор"
                                },
                                "name" : "admin",
                                "names" : {
                                    "en" : "administrator",
                                    "ru" : "администратор"
                                }
                            },
                            {
                                "descriptions" : {
                                    "en" : "root",
                                    "ru" : "суперпользователь"
                                },
                                "name" : "root",
                                "names" : {
                                    "en" : "root",
                                    "ru" : "суперпользователь"
                                }
                            }
                        ]
                    },
                    "token-exchange" : {
                        "resources" : [
                            {
                                "rules" : [
                                    "scope1"
                                ],
                                "uri" : "http://test.services.loc/test-services/access-with-scope-testsys1"
                            },
                            {
                                "rules" : [
                                    "scope2"
                                ],
                                "uri" : "http://test.services.loc/test-services/access-with-scope-testsys2"
                            },
                            {
                                "rules" : [
                                    "testright"
                                ],
                                "uri" : "http://test.services.loc/test-services/access-with-system-right-mng-rights-on"
                            }
                        ]
                    },
                    "user-profile" : {
                        "check-session-interval" : 5,
                        "email-code-length" : 6,
                        "sms-code-exp-sec" : 300,
                        "sms-code-length" : 6,
                        "tabs" : [
                            "password",
                            "devices",
                            "events"
                        ],
                        "userNameAttr" : "${email- }"
                    },
                    "webAuthn" : {
                        "acceptedKeysAlgorithms" : [
                            -7,
                            -257
                        ],
                        "callTimeoutMs" : 60000,
                        "credentialsDiscoveryMode" : "SERVER",
                        "normalCounterDistance" : 1,
                        "rp" : {
                            "id" : "blitz-demo.loc",
                            "name" : "Identity Blitz"
                        },
                        "trustedStores" : [
                            {
                                "password" : "{$}20z0onxZ8Uj8rMfYd4M6LpJh2mJqfDp+o14YVTZBjawqc44TFlBwxQ==",
                                "path" : "webAuthn-trusted-ca.jks",
                                "type" : "jKS"
                            }
                        ],
                        "user" : {
                            "displayName" : "${family_name-}",
                            "name" : "${email-}"
                        }
                    }
                }
            }
        }
    },
    "home" : "/usr/share/identityblitz/blitz-config"
}
